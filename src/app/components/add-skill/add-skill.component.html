<div *ngIf="!isAddSkillDescription()">
  <mat-card-title>Add New Skill</mat-card-title>
  <div class="divider-top">
    <mat-divider></mat-divider>
  </div>
  <div style="margin-top: 15px">
    <mat-card-subtitle class="info-messages"
      >If the skill you are looking for is not on the list, please contact your manager for further actions and skill
      implementation.</mat-card-subtitle
    >
  </div>

  <form class="addSkillForm" [formGroup]="addSkillForm" (submit)="addSkillFromForm()">
    <div class="select-skill">
      <h1 mat-dialog-title>Select new skill</h1>

      <mat-form-field class="select-skill-dropdown" appearance="fill">
        <mat-label>Choose your skill</mat-label>
        <mat-select fxLayoutGap="24px" formControlName="skillname" disableRipple required>
          <mat-option *ngFor="let index of this.skillNames" value="{{ index }}">{{ index }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="skill-level-stars" (mouseleave)="mouseLeaveStars()">
      <h1 mat-dialog-title>New skill level</h1>
      <mat-icon
        class="icon-star"
        data-rank="1"
        (mouseenter)="mouseOverStars($event)"
        (click)="getSkillLevelFilter($event)"
        >grade</mat-icon
      >
      <mat-icon
        class="icon-star"
        data-rank="2"
        (mouseenter)="mouseOverStars($event)"
        (click)="getSkillLevelFilter($event)"
        >grade</mat-icon
      >
      <mat-icon
        class="icon-star"
        data-rank="3"
        (mouseenter)="mouseOverStars($event)"
        (click)="getSkillLevelFilter($event)"
        >grade</mat-icon
      >
      <mat-icon
        class="icon-star"
        data-rank="4"
        (mouseenter)="mouseOverStars($event)"
        (click)="getSkillLevelFilter($event)"
        >grade</mat-icon
      >
      <mat-icon
        class="icon-star"
        data-rank="5"
        (mouseenter)="mouseOverStars($event)"
        (click)="getSkillLevelFilter($event)"
        >grade</mat-icon
      >
    </div>

    <div class="skill-levels-legend">
      <h1 mat-dialog-title>Skill Levels Legend</h1>

      <div fxLayout="column" fxLayoutAlign="space-between center">
        <div class="skill-level-row" *ngFor="let level of this.skillLevels">
          <div class="level-legend-col1">
            <p class="level-name">{{ level.name }}</p>
            <mat-icon
              *ngFor="let i of [0, 1, 2, 3, 4]"
              class="skill-level-legend-stars"
              [ngClass]="i < level.dataRank ? 'blue-icon' : ''"
              >grade</mat-icon
            >
          </div>

          <div class="level-legend-col2">
            <mat-card-subtitle class="level-desc">{{ level.description }} </mat-card-subtitle>
            <mat-card-subtitle class="level-exp">{{ level.experience }} </mat-card-subtitle>
          </div>
        </div>
      </div>
    </div>
    <div class="divider-bottom">
      <mat-divider></mat-divider>
    </div>
    <div>
      <button
        class="save-skill-button"
        mat-raised-button
        [disabled]="!addSkillForm.valid"
        color="primary"
        (click)="saveNewSkill()"
      >
        Save New Skill
      </button>
      <button class="discard-button" mat-button color="accent" mat-dialog-close>Discard</button>
    </div>
  </form>
</div>

<div *ngIf="isAddSkillDescription()">
  <mat-card-title>Add New Skill</mat-card-title>
  <div class="divider-top">
    <mat-divider></mat-divider>
  </div>
  <div style="margin-top: 15px">
    <mat-card-subtitle class="info-messages"
      >We would like to know more about your expertise for this skill and your chosen skill level. If you prefer not to
      say, you can skip this.</mat-card-subtitle
    >
  </div>

  <h1 mat-dialog-title style="margin-top: 20px">Describe Your Skill Level</h1>
  <form class="addSkillForm" [formGroup]="addSkillForm" (submit)="addSkillFromForm()">
    <mat-form-field appearance="outline">
      <textarea
        [(ngModel)]="skillDescription"
        [ngModelOptions]="{ standalone: true }"
        matInput
        rows="10"
        cols="40"
        placeholder="Type here..."
      ></textarea>
    </mat-form-field>

    <div class="divider-bottom">
      <mat-divider></mat-divider>
    </div>
    <div>
      <button
        type="submit"
        class="save-skill-button"
        mat-raised-button
        [disabled]="!addSkillForm.valid"
        color="primary"
        mat-dialog-close
        (click)="setDescription(skillDescription)"
      >
        Save
      </button>
      <button
        type="submit"
        mat-dialog-close
        (click)="onSkipClicked()"
        class="discard-button"
        mat-button
        color="accent"
        mat-dialog-close
      >
        Skip
      </button>
    </div>
  </form>
</div>
